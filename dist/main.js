!function(e){function t(r){if(s[r])return s[r].exports;var n=s[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var s={};return t.m=e,t.c=s,t.p="/dist/",t(0)}([function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=s(29),i=r(n);Parse.initialize("pocoweb-chat","XoHirs3LE7PhOYiR"),Parse.serverURL="http://localhost:1337/parse",Vue.config.debug=!0,Vue.use(VueAsyncData);var o=new Vue(i["default"]);o.currentUser=Parse.User.current(),o.authVM=new Vue({el:"#login-page",data:{pages:{isShowLandingPage:!0,isShowSigninPage:!1,isShowSignupPage:!1},username:"",password:""},$vm:void 0,ready:function(){o.currentUser=Parse.User.current(),null!=o.currentUser&&this.showApp()},computed:{isShowLoginPage:function(){return this.pages.isShowSigninPage||this.pages.isShowSignupPage},loginTitle:function(){return this.pages.isShowSigninPage?"登录PocoChat账号":"注册PocoChat账号"},submitBtnStr:function(){return this.pages.isShowSigninPage?"登  录":"注  册"}},methods:{showApp:function(){this.pages.isShowLandingPage=!1,this.pages.isShowSigninPage=!1,this.pages.isShowSignupPage=!1,this.clearAuthForm(),o.show()},showLandingPage:function(){this.pages.isShowLandingPage=!0,this.pages.isShowSigninPage=!1,this.pages.isShowSignupPage=!1,this.clearAuthForm(),o.hide()},clearAuthForm:function(){this.username="",this.password=""},signin:function(){console.log("singin"),this.pages.isShowLandingPage=!1,this.pages.isShowSigninPage=!0,this.pages.isShowSignupPage=!1,this.clearAuthForm(),o.hide()},signup:function(){console.log("singup"),this.pages.isShowLandingPage=!1,this.pages.isShowSigninPage=!1,this.pages.isShowSignupPage=!0,this.clearAuthForm(),o.hide()},signOut:function(){o.currentUser=Parse.User.current(),null!=currentUser?(Parse.User.logOut(),this.showLandingPage()):this.showLandingPage()},submit:function(){if(console.log("submit"),console.log(this.username),console.log(this.password),this.pages.isShowSigninPage&&Parse.User.logIn(this.username,this.password,{success:function(e){o.currentUser=e,o.authVM.pages.isShowLandingPage=!1,o.authVM.pages.isShowSigninPage=!1,o.authVM.pages.isShowSignupPage=!1,o.show()},error:function(e,t){alert("Error: "+t.code+" "+t.message+".")}}),this.pages.isShowSignupPage){var e=new Parse.User;e.set("username",this.username),e.set("password",this.password),e.signUp(null,{success:function(e){alert("Thanks for signing up!"),o.authVM.signin()},error:function(e,t){alert("Error: "+t.code+" "+t.message+".")}})}}}})},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var s=this[t];s[2]?e.push("@media "+s[2]+"{"+s[1]+"}"):e.push(s[1])}return e.join("")},e.i=function(t,s){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(r[i]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&r[o[0]]||(s&&!o[2]?o[2]=s:s&&(o[2]="("+o[2]+") and ("+s+")"),e.push(o))}},e}},function(e,t,s){function r(e,t){for(var s=0;s<e.length;s++){var r=e[s],n=d[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(a(r.parts[i],t))}else{for(var o=[],i=0;i<r.parts.length;i++)o.push(a(r.parts[i],t));d[r.id]={id:r.id,refs:1,parts:o}}}}function n(e){for(var t=[],s={},r=0;r<e.length;r++){var n=e[r],i=n[0],o=n[1],a=n[2],u=n[3],l={css:o,media:a,sourceMap:u};s[i]?s[i].parts.push(l):t.push(s[i]={id:i,parts:[l]})}return t}function i(){var e=document.createElement("style"),t=f();return e.type="text/css",t.appendChild(e),e}function o(){var e=document.createElement("link"),t=f();return e.rel="stylesheet",t.appendChild(e),e}function a(e,t){var s,r,n;if(t.singleton){var a=m++;s=g||(g=i()),r=u.bind(null,s,a,!1),n=u.bind(null,s,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=o(),r=c.bind(null,s),n=function(){s.parentNode.removeChild(s),s.href&&URL.revokeObjectURL(s.href)}):(s=i(),r=l.bind(null,s),n=function(){s.parentNode.removeChild(s)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}function u(e,t,s,r){var n=s?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,n);else{var i=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function l(e,t){var s=t.css,r=t.media;t.sourceMap;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}function c(e,t){var s=t.css,r=(t.media,t.sourceMap);r&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var n=new Blob([s],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(n),i&&URL.revokeObjectURL(i)}var d={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=h(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,m=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var s=n(e);return r(s,t),function(e){for(var i=[],o=0;o<s.length;o++){var a=s[o],u=d[a.id];u.refs--,i.push(u)}if(e){var l=n(e);r(l,t)}for(var o=0;o<i.length;o++){var u=i[o];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete d[u.id]}}}};var v=function(){var e=[];return function(t,s){return e[t]=s,e.filter(Boolean).join("\n")}}()},function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(9),i=r(n),o=s(17),a=(s(36),"POCOWEB-CHAT-V1"),u=a+"-ME",l=a+"-USERS",c=a+"-CHAT";new o.EventEmitter;if(!localStorage.getItem(c)){var d=new Date,h=[{id:"abwPeEfkgL",name:"智能助手",avatar:"dist/images/0.png"},{id:"IxJjAum8vW",name:"朱一婷",avatar:"dist/images/1.jpg"},{id:"crASHMirAS",name:"fred",avatar:"dist/images/2.png"},{id:"nn8HysalBr",name:"孙立文",avatar:"dist/images/3.jpg"}],p={sessionList:[{userId1:"IxJjAum8vW",userId2:"crASHMirAS",messages:[{text:"朱一婷对fred的测试对话",createdAt:d,sendFrom:"crASHMirAS"},{text:"fred对朱一婷的测试对话",createdAt:d,sendFrom:"IxJjAum8vW"}]},{userId1:"nn8HysalBr",userId2:"IxJjAum8vW",messages:[{text:"孙立文对朱一婷的测试对话",createdAt:d,sendFrom:"IxJjAum8vW"}]},{userId1:"nn8HysalBr",userId2:"crASHMirAS",messages:[{text:"孙立文对fred的测试对话",createdAt:d,sendFrom:"crASHMirAS"}]}]};localStorage.setItem(u,(0,i["default"])(1)),localStorage.setItem(l,(0,i["default"])(h)),localStorage.setItem(c,(0,i["default"])(p))}t["default"]={loadChat:function(){return JSON.parse(localStorage.getItem(c))},loadUsers:function(){var e=new Parse.Query("User");return e.find()},loadAI:function(){var e=new Parse.Query("User");return e.equalTo("username","ai"),e.find()},loadMe:function(){var e=Parse.User.current();if(null!=e){var t="dist/images/unknown.jpg";return null!=e.get("avatar")&&(t=e.get("avatar").url()),{id:e.id,name:e.get("username"),avatar:t}}return{id:-1,name:"未登陆用户",avatar:"dist/images/unknown.jpg"}},save:function(e){localStorage.setItem(c,(0,i["default"])(e))}}},function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(3),i=r(n),o=s(30),a=r(o),u=s(31),l=r(u),c=s(33),d=r(c),h=s(32),p=r(h);t["default"]={el:"#chat",data:function(){var e=i["default"].loadChat(),t=i["default"].loadMe();return{ai:{name:"ai",id:"ai",avatar:"dist/images/0.png"},user:t,userList:[],sessionList:e.sessionList,search:"",sessionIndex:0,isShow:!1}},asyncData:function(){var e=this;i["default"].loadUsers().then(function(t){for(var s=[],r=0;r<t.length;r++){var n=t[r];s.push({name:n.get("username"),id:n.id,avatar:n.get("avatar").url()})}e.userList=s})},computed:{session:function(){return this.sessionList[this.sessionIndex]}},watch:{sessionList:{deep:!0,handler:function(){i["default"].save({sessionList:this.sessionList})}}},components:{card:a["default"],list:l["default"],text:d["default"],message:p["default"]},methods:{show:function(){this.isShow=!0,this.user=i["default"].loadMe()},hide:function(){this.isShow=!1}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["main","user","search"],methods:{signOut:function(){Parse.User.logOut(),this.$parent.authVM.showLandingPage(),this.$parent.hide()}}}},function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(3);r(n);t["default"]={props:["ai","userList","sessionList","user","sessionIndex","session","search"],methods:{select:function(e){this.sessionIndex=-1;for(var t=0;t<this.sessionList.length;t++){var s=this.sessionList[t],r=e.id<this.user.id?e.id:this.user.id,n=e.id>this.user.id?e.id:this.user.id;if(s.userId1==r&&s.userId2==n){this.sessionIndex=t;break}}console.log("user",this.user),console.log("value",e),console.log("idx",this.sessionIndex),-1==this.sessionIndex&&(this.sessionList.push({userId1:e.id,userId2:this.user.id,messages:[]}),this.sessionIndex=this.sessionList.length-1)}},filters:{search:function(e){return e}},created:function(){}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["session","user","userList"],computed:{sessionUser:function(){var e=this.user.id===this.session.userId1?this.session.userId2:this.session.userId1,t=this.userList.filter(function(t){return t.id===e});return t[0]}},filters:{avatar:function(e){var t=e.send===this.user.id?this.user:this.sessionUser;return t&&t.avatar},time:function(e){return"string"==typeof e&&(e=new Date(e)),null==e?"":e.getHours()+":"+e.getMinutes()}},directives:{"scroll-bottom":function(){var e=this;Vue.nextTick(function(){e.el.scrollTop=e.el.scrollHeight-e.el.clientHeight})}}}},function(e,t){"use strict";function s(e,t,s,r){Notification.requestPermission();var n={title:e,body:t,icon:r},i=new Notification(n.title,n);i.onclick=function(){console.log("Notification clicked")}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:["session","user"],data:function(){return{text:""}},methods:{inputing:function(e){if(13===e.keyCode&&this.text.length){var t=new Messages;t.save({text:this.text,sendFrom:currentUser,sendTo:this.session.user}).then(function(e){this.text=""}),s(this.user.name,this.text,this.user.avatar),this.text=""}}}}},function(e,t,s){e.exports={"default":s(10),__esModule:!0}},function(e,t,s){var r=s(11);e.exports=function(e){return(r.JSON&&r.JSON.stringify||JSON.stringify).apply(JSON,arguments)}},function(e,t){var s=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=s)},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,".m-card{padding:9pt;border-bottom:1px solid #24272c}.m-card footer{margin-top:10px}.m-card .avatar,.m-card .name{vertical-align:middle}.m-card .avatar{border-radius:2px}.m-card .name{display:inline-block;margin:0 0 0 15px;font-size:1pc}.m-card .search{padding:0 10px;width:100%;font-size:9pt;color:#fff;height:30px;line-height:30px;border:1px solid #3a3a3a;border-radius:4px;outline:0;background-color:#26292e}",""])},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,".m-text{height:10pc;border-top:1px solid #ddd}.m-text textarea{padding:10px;height:100%;width:100%;border:none;outline:0;font-family:Micrsofot Yahei;resize:none}","",{version:3,sources:["/../../../../../vue-loader/7.5.3/vue-loader/lib/style-rewriter.js?id=_v-23305cd4&file=text.vue!/Users/liwen/V2Work/Azure/pocoweb-chat/node_modules/.npminstall/less-loader/2.2.3/less-loader/index.js!/Users/liwen/V2Work/Azure/pocoweb-chat/node_modules/.npminstall/vue-loader/7.5.3/vue-loader/lib/selector.js?type=style&index=0!/Users/liwen/V2Work/Azure/pocoweb-chat/src/components/text.vue.style"],names:[],mappings:"AAAA,QAAQ,YAAa,yBAAyB,CAAC,iBAAiB,aAAa,YAAY,WAAW,YAAY,UAAa,4BAA8B,WAAW,CAAC",file:"text.vue",sourcesContent:['.m-text{height:160px;border-top:solid 1px #ddd}.m-text textarea{padding:10px;height:100%;width:100%;border:none;outline:none;font-family:"Micrsofot Yahei";resize:none}'],sourceRoot:"webpack://"}])},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,"#chat{margin:auto;width:750pt;overflow:hidden;border-radius:3px}#chat,#chat .main,#chat .sidebar{height:100%}#chat .sidebar{float:left;width:200px;color:#f4f4f4;background-color:#2e3238}#chat .main{position:relative;overflow:hidden;background-color:#eee}#chat .m-text{position:absolute;width:100%;bottom:0;left:0}#chat .m-message{height:calc(100% - 10pc)}","",{version:3,sources:["/../../../../../vue-loader/7.5.3/vue-loader/lib/style-rewriter.js?id=_v-2cd02dc8&file=app.vue!/Users/liwen/V2Work/Azure/pocoweb-chat/node_modules/.npminstall/less-loader/2.2.3/less-loader/index.js!/Users/liwen/V2Work/Azure/pocoweb-chat/node_modules/.npminstall/vue-loader/7.5.3/vue-loader/lib/selector.js?type=style&index=0!/Users/liwen/V2Work/Azure/pocoweb-chat/src/components/app.vue.style"],names:[],mappings:"AAAA,MAAM,YAAY,YAAa,AAAY,gBAAgB,iBAAiB,CAAC,iCAA9C,WAAY,CAAyE,eAAe,WAAW,YAAY,cAAc,wBAAwB,CAAC,YAAY,kBAAkB,gBAAgB,qBAAqB,CAAC,cAAc,kBAAkB,WAAW,SAAS,MAAM,CAAC,iBAAiB,wBAAyB,CAAC",file:"app.vue",sourcesContent:["#chat{margin:auto;width:1000px;height:100%;overflow:hidden;border-radius:3px}#chat .sidebar,#chat .main{height:100%}#chat .sidebar{float:left;width:200px;color:#f4f4f4;background-color:#2e3238}#chat .main{position:relative;overflow:hidden;background-color:#eee}#chat .m-text{position:absolute;width:100%;bottom:0;left:0}#chat .m-message{height:calc(100% - 160px)}"],sourceRoot:"webpack://"}])},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,".m-list li{padding:9pt 15px;border-bottom:1px solid #292c33;cursor:pointer;-webkit-transition:background-color .1s;transition:background-color .1s}.m-list li:hover{background-color:hsla(0,0%,100%,.03)}.m-list li.active{background-color:hsla(0,0%,100%,.1)}.m-list .avatar,.m-list .name{vertical-align:middle}.m-list .avatar{border-radius:2px}.m-list .name{display:inline-block;margin:0 0 0 15px}","",{version:3,sources:["/../../../../../vue-loader/7.5.3/vue-loader/lib/style-rewriter.js?id=_v-7a6f1c87&file=list.vue!/Users/liwen/V2Work/Azure/pocoweb-chat/node_modules/.npminstall/less-loader/2.2.3/less-loader/index.js!/Users/liwen/V2Work/Azure/pocoweb-chat/node_modules/.npminstall/vue-loader/7.5.3/vue-loader/lib/selector.js?type=style&index=0!/Users/liwen/V2Work/Azure/pocoweb-chat/src/components/list.vue.style"],names:[],mappings:"AAAA,WAAW,iBAAkB,gCAAgC,eAAe,wCAAA,+BAA+B,CAAC,iBAAiB,oCAAuC,CAAC,kBAAkB,mCAAsC,CAAC,8BAA8B,qBAAqB,CAAC,gBAAgB,iBAAiB,CAAC,cAAc,qBAAqB,iBAAiB,CAAC",file:"list.vue",sourcesContent:[".m-list li{padding:12px 15px;border-bottom:1px solid #292C33;cursor:pointer;transition:background-color .1s}.m-list li:hover{background-color:rgba(255,255,255,0.03)}.m-list li.active{background-color:rgba(255,255,255,0.1)}.m-list .avatar,.m-list .name{vertical-align:middle}.m-list .avatar{border-radius:2px}.m-list .name{display:inline-block;margin:0 0 0 15px}"],sourceRoot:"webpack://"}])},function(e,t,s){t=e.exports=s(1)(),t.push([e.id,'.m-message{padding:10px 15px;overflow-y:scroll}.m-message li{margin-bottom:15px}.m-message .time{margin:7px 0;text-align:center}.m-message .time>span{display:inline-block;padding:0 18px;font-size:9pt;color:#fff;border-radius:2px;background-color:#dcdcdc}.m-message .avatar{float:left;margin:0 10px 0 0;border-radius:3px}.m-message .text{display:inline-block;position:relative;padding:0 10px;max-width:calc(55% - 40px);min-height:30px;line-height:1.75;font-size:9pt;text-align:left;word-break:break-all;background-color:#fafafa;border-radius:4px}.m-message .text:before{content:" ";position:absolute;top:9px;right:100%;border:6px solid transparent;border-right-color:#fafafa}.m-message .self{text-align:right}.m-message .self .avatar{float:right;margin:0 0 0 10px}.m-message .self .text{background-color:#b2e281}.m-message .self .text:before{right:inherit;left:100%;border-right-color:transparent;border-left-color:#b2e281}',"",{version:3,sources:["/../../../../../vue-loader/7.5.3/vue-loader/lib/style-rewriter.js?id=_v-d95a1da4&file=message.vue!/Users/liwen/V2Work/Azure/pocoweb-chat/node_modules/.npminstall/less-loader/2.2.3/less-loader/index.js!/Users/liwen/V2Work/Azure/pocoweb-chat/node_modules/.npminstall/vue-loader/7.5.3/vue-loader/lib/selector.js?type=style&index=0!/Users/liwen/V2Work/Azure/pocoweb-chat/src/components/message.vue.style"],names:[],mappings:"AAAA,WAAW,kBAAkB,iBAAiB,CAAC,cAAc,kBAAkB,CAAC,iBAAiB,aAAa,iBAAiB,CAAC,sBAAsB,qBAAqB,eAAe,cAAe,WAAW,kBAAkB,wBAAwB,CAAC,mBAAmB,WAAW,kBAAkB,iBAAiB,CAAC,iBAAiB,qBAAqB,kBAAkB,eAAe,2BAA2B,gBAAgB,iBAAiB,cAAe,gBAAgB,qBAAqB,yBAAyB,iBAAiB,CAAC,wBAAwB,YAAY,kBAAkB,QAAQ,WAAW,6BAA6B,0BAA0B,CAAC,iBAAiB,gBAAgB,CAAC,yBAAyB,YAAY,iBAAiB,CAAC,uBAAuB,wBAAwB,CAAC,8BAA8B,cAAc,UAAU,+BAA+B,yBAAyB,CAAC",file:"message.vue",sourcesContent:['.m-message{padding:10px 15px;overflow-y:scroll}.m-message li{margin-bottom:15px}.m-message .time{margin:7px 0;text-align:center}.m-message .time>span{display:inline-block;padding:0 18px;font-size:12px;color:#fff;border-radius:2px;background-color:#dcdcdc}.m-message .avatar{float:left;margin:0 10px 0 0;border-radius:3px}.m-message .text{display:inline-block;position:relative;padding:0 10px;max-width:calc(55% - 40px);min-height:30px;line-height:1.75;font-size:12px;text-align:left;word-break:break-all;background-color:#fafafa;border-radius:4px}.m-message .text:before{content:" ";position:absolute;top:9px;right:100%;border:6px solid transparent;border-right-color:#fafafa}.m-message .self{text-align:right}.m-message .self .avatar{float:right;margin:0 0 0 10px}.m-message .self .text{background-color:#b2e281}.m-message .self .text:before{right:inherit;left:100%;border-right-color:transparent;border-left-color:#b2e281}'],sourceRoot:"webpack://"}])},function(e,t){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function n(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(e){if(!n(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},s.prototype.emit=function(e){var t,s,n,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(s=this._events[e],o(s))return!1;if(r(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),s.apply(this,a)}else if(i(s))for(a=Array.prototype.slice.call(arguments,1),l=s.slice(),n=l.length,u=0;n>u;u++)l[u].apply(this,a);return!0},s.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(n=o(this._maxListeners)?s.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){function s(){this.removeListener(e,s),n||(n=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var n=!1;return s.listener=t,this.on(e,s),this},s.prototype.removeListener=function(e,t){var s,n,o,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=this._events[e],o=s.length,n=-1,s===t||r(s.listener)&&s.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(s)){for(a=o;a-- >0;)if(s[a]===t||s[a].listener&&s[a].listener===t){n=a;break}if(0>n)return this;1===s.length?(s.length=0,delete this._events[e]):s.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},s.prototype.removeAllListeners=function(e){var t,s;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s=this._events[e],r(s))this.removeListener(e,s);else if(s)for(;s.length;)this.removeListener(e,s[s.length-1]);return delete this._events[e],this},s.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},s.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},s.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){function s(){l&&o&&(l=!1,o.length?u=o.concat(u):c=-1,u.length&&r())}function r(){if(!l){var e=setTimeout(s);l=!0;for(var t=u.length;t;){for(o=u,u=[];++c<t;)o&&o[c].run();c=-1,t=u.length}o=null,l=!1,clearTimeout(e)}}function n(e,t){this.fun=e,this.array=t}function i(){}var o,a=e.exports={},u=[],l=!1,c=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];u.push(new n(e,t)),1!==u.length||l||setTimeout(r,0)},n.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,s){var r=s(12);"string"==typeof r&&(r=[[e.id,r,""]]);s(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,s){var r=s(13);"string"==typeof r&&(r=[[e.id,r,""]]);s(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,s){var r=s(14);"string"==typeof r&&(r=[[e.id,r,""]]);s(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,s){var r=s(15);"string"==typeof r&&(r=[[e.id,r,""]]);s(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,s){var r=s(16);"string"==typeof r&&(r=[[e.id,r,""]]);s(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){e.exports="<div> <div class=sidebar> <card :user=user :search.sync=search></card> <list wait-for=async-data :ai=ai :user-list=userList :session-list=sessionList :user=user :session=session :session-index.sync=sessionIndex :search=search></list> </div> <div class=main> <message :session=session :user=user :user-list=userList></message> <text :session=session :user=user></text> </div> </div>"},function(e,t){e.exports='<div class=m-card> <header> <img class=avatar width=40 height=40 :alt.sync=user.name :src.sync=user.avatar> <p class=name>{{user.name}}</p> <button class="btn btn-xs signout" type=button @click=signOut()>登出</button> </header> <footer> <input class=search type=text placeholder="search user..." v-model=search> </footer> </div>'},function(e,t){e.exports='<div class=m-list> <ul> <li v-for="item in userList" :class=active @click=select(item)> <img class=avatar width=35 height=35 :alt=item.name :src=item.avatar> <p class=name>{{item.name}}</p> </li> </ul> </div>'},function(e,t){e.exports='<div class=m-message v-scroll-bottom=session.messages> <ul> <li v-for="item in session.messages"> <p class=time><span>{{item.createdAt}} {{item.createdAt | time}}</span></p> <div class=main :class="{ self: (item.send === this.user.id) }"> <img class=avatar width=30 height=30 :src="item | avatar"/> <div class=text>{{item.text}}</div> </div> </li> </ul> </div>'},function(e,t){e.exports='<div class=m-text> <textarea placeholder="按 Enter 发送" v-model=text @keyup=inputing></textarea> </div>'},function(e,t,s){var r,n;s(21),r=s(4),n=s(24),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options:e.exports).template=n)},function(e,t,s){var r,n;s(19),r=s(5),n=s(25),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options:e.exports).template=n)},function(e,t,s){var r,n;s(22),r=s(6),n=s(26),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options:e.exports).template=n)},function(e,t,s){var r,n;s(23),r=s(7),n=s(27),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options:e.exports).template=n)},function(e,t,s){var r,n;s(20),r=s(8),n=s(28),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options:e.exports).template=n)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,s){var r;(function(e,n,i){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.1.2
	 */
(function(){"use strict";function o(e){return"function"==typeof e||"object"==typeof e&&null!==e}function a(e){return"function"==typeof e}function u(e){Q=e}function l(e){X=e}function c(){return function(){e.nextTick(g)}}function d(){return function(){J(g)}}function h(){var e=0,t=new ee(g),s=document.createTextNode("");return t.observe(s,{characterData:!0}),function(){s.data=e=++e%2}}function p(){var e=new MessageChannel;return e.port1.onmessage=g,function(){e.port2.postMessage(0)}}function f(){return function(){setTimeout(g,1)}}function g(){for(var e=0;K>e;e+=2){var t=re[e],s=re[e+1];t(s),re[e]=void 0,re[e+1]=void 0}K=0}function m(){try{var e=s(37);return J=e.runOnLoop||e.runOnContext,d()}catch(t){return f()}}function v(e,t){var s=this,r=s._state;if(r===ae&&!e||r===ue&&!t)return this;var n=new this.constructor(x),i=s._result;if(r){var o=arguments[r-1];X(function(){I(r,n,o,i)})}else U(s,n,e,t);return n}function A(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var s=new t(x);return S(s,e),s}function x(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function y(e){try{return e.then}catch(t){return le.error=t,le}}function _(e,t,s,r){try{e.call(t,s,r)}catch(n){return n}}function B(e,t,s){X(function(e){var r=!1,n=_(s,t,function(s){r||(r=!0,t!==s?S(e,s):P(e,s))},function(t){r||(r=!0,M(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&n&&(r=!0,M(e,n))},e)}function k(e,t){t._state===ae?P(e,t._result):t._state===ue?M(e,t._result):U(t,void 0,function(t){S(e,t)},function(t){M(e,t)})}function C(e,t,s){t.constructor===e.constructor&&s===ne&&constructor.resolve===ie?k(e,t):s===le?M(e,le.error):void 0===s?P(e,t):a(s)?B(e,t,s):P(e,t)}function S(e,t){e===t?M(e,b()):o(t)?C(e,t,y(t)):P(e,t)}function L(e){e._onerror&&e._onerror(e._result),j(e)}function P(e,t){e._state===oe&&(e._result=t,e._state=ae,0!==e._subscribers.length&&X(j,e))}function M(e,t){e._state===oe&&(e._state=ue,e._result=t,X(L,e))}function U(e,t,s,r){var n=e._subscribers,i=n.length;e._onerror=null,n[i]=t,n[i+ae]=s,n[i+ue]=r,0===i&&e._state&&X(j,e)}function j(e){var t=e._subscribers,s=e._state;if(0!==t.length){for(var r,n,i=e._result,o=0;o<t.length;o+=3)r=t[o],n=t[o+s],r?I(s,r,n,i):n(i);e._subscribers.length=0}}function E(){this.error=null}function W(e,t){try{return e(t)}catch(s){return ce.error=s,ce}}function I(e,t,s,r){var n,i,o,u,l=a(s);if(l){if(n=W(s,r),n===ce?(u=!0,i=n.error,n=null):o=!0,t===n)return void M(t,w())}else n=r,o=!0;t._state!==oe||(l&&o?S(t,n):u?M(t,i):e===ae?P(t,n):e===ue&&M(t,n))}function O(e,t){try{t(function(t){S(e,t)},function(t){M(e,t)})}catch(s){M(e,s)}}function T(e){return new me(this,e).promise}function V(e){function t(e){S(n,e)}function s(e){M(n,e)}var r=this,n=new r(x);if(!$(e))return M(n,new TypeError("You must pass an array to race.")),n;for(var i=e.length,o=0;n._state===oe&&i>o;o++)U(r.resolve(e[o]),void 0,t,s);return n}function Y(e){var t=this,s=new t(x);return M(s,e),s}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(e){this._id=fe++,this._state=void 0,this._result=void 0,this._subscribers=[],x!==e&&("function"!=typeof e&&z(),this instanceof N?O(this,e):R())}function q(e,t){this._instanceConstructor=e,this.promise=new e(x),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&P(this.promise,this._result))):M(this.promise,this._validationError())}function H(){var e;if("undefined"!=typeof n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var s=e.Promise;s&&"[object Promise]"===Object.prototype.toString.call(s.resolve())&&!s.cast||(e.Promise=ge)}var F;F=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var J,Q,D,$=F,K=0,X=function(e,t){re[K]=e,re[K+1]=t,K+=2,2===K&&(Q?Q(g):D())},G="undefined"!=typeof window?window:void 0,Z=G||{},ee=Z.MutationObserver||Z.WebKitMutationObserver,te="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),se="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3);D=te?c():ee?h():se?p():void 0===G?m():f();var ne=v,ie=A,oe=void 0,ae=1,ue=2,le=new E,ce=new E,de=T,he=V,pe=Y,fe=0,ge=N;N.all=de,N.race=he,N.resolve=ie,N.reject=pe,N._setScheduler=u,N._setAsap=l,N._asap=X,N.prototype={constructor:N,then:ne,"catch":function(e){return this.then(null,e)}};var me=q;q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},q.prototype._enumerate=function(){for(var e=this.length,t=this._input,s=0;this._state===oe&&e>s;s++)this._eachEntry(t[s],s)},q.prototype._eachEntry=function(e,t){var s=this._instanceConstructor,r=s.resolve;if(r===ie){var n=y(e);if(n===ne&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(s===ge){var i=new s(x);C(i,e,n),this._willSettleAt(i,t)}else this._willSettleAt(new s(function(t){t(e)}),t)}else this._willSettleAt(r(e),t)},q.prototype._settledAt=function(e,t,s){var r=this.promise;r._state===oe&&(this._remaining--,e===ue?M(r,s):this._result[t]=s),0===this._remaining&&P(r,this._result)},q.prototype._willSettleAt=function(e,t){var s=this;U(e,void 0,function(e){s._settledAt(ae,t,e)},function(e){s._settledAt(ue,t,e)})};var ve=H,Ae={Promise:ge,polyfill:ve};s(34).amd?(r=function(){return Ae}.call(t,s,t,i),!(void 0!==r&&(i.exports=r))):"undefined"!=typeof i&&i.exports?i.exports=Ae:"undefined"!=typeof this&&(this.ES6Promise=Ae),ve()}).call(this)}).call(t,s(18),function(){return this}(),s(35)(e))},function(e,t){}]);
//# sourceMappingURL=main.js.map